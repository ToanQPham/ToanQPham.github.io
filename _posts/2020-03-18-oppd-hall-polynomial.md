---
layout: post
title: "OPPD - Day 1: Hall polynomials"
categories: 
- Symmetric Functions
tag: 
- symmetric function
- OPPD
---

Today is 19/03/2020 and I will post what I learn from 18-19/03/2020. 

## Symmetric functions - Hall polynomials

I read chapter II of Macdonald's book Symmetric Functions and 
Hall Polynomials. Here is a brief summary from that chapter, 
talking about Hall polynomials:

* Define *finite $\mathfrak{o}$-module* $M$, which corresponds
uniquely (up to isomorphism) to a partition $\lambda$ 
(called *type* of $M$).
* Define *Hall algebra* which is $\mathbf{Z}$-generated by 
basis $(u_{\lambda})$ indexed by partition with multiplication 
determined by structure constants $G_{\mu \nu}^{\lambda}(\mathfrak{o})$,
which counts number of ubmodule $N$ of type $\nu$ and cotype $\mu$ in 
finite $\mathfrak{o}$-module $M$ of type $\lambda$ 
(here we suppose $k$ is finite with 
$|k|=q$ so $M$ has finitely many elements)
* We give a formula for $G_{\mu \nu}^{\lambda}(\mathfrak{o})$
which is a *Hall polynomial* $g_{\mu \nu}^{\lambda}$ evaluated 
at $q$. 

### Finite $\mathfrak{o}$-module

Let $\mathfrak{o}$ discrete valuation ring with maximal ideal 
$\mathfrak{p}$ and residue field $k=\mathfrak{o}/\mathfrak{p}$. 
A *finite $\mathfrak{o}$-module* $M$ is a finitely generated 
$\mathfrak{o}$-module such that $\mathfrak{p}^rM=0$ for 
some $r \ge 0$. 

There is a unique correspondence between finite 
$\mathfrak{o}$-module $M$ and a partition $\lambda$ 
(up to isomorphism of $M$): Since $\mathfrak{o}$
is principal ideal domain, $M$ as finitely generated 
$\mathfrak{o}$-module is direct sum of cyclic modules 

$$
M=\bigoplus_{i=1}^r \mathfrak{o}/\mathfrak{p}^{\lambda_i}
\label{eq1}\tag{1}
$$

Furthermore, if $\mu_i=\text{dim }_k(\mathfrak{p}^{i-1}
M/\mathfrak{p}^i M)$ then $\mu=(\mu_1,\ldots,)$ is 
conjugate of $\lambda$. We call $\lambda$ *type* of $M$.

If $\lambda$ is *type* of $M$ then let $l(M)=|\lambda|=
\sum \lambda_i$ be the *length* of $M$. The length has 
very useful property (which will be used frequently 
in the chapter) is that if $N$ submodule of $M$
then $l(M)=l(N)+l(M/N)$. The *cotype* of $N$ in $M$
is defined to be the *type* of $M/N$.

Finite $\mathfrak{o}$-module $M$ is *cyclic* 
if its type is $(r)$ consisting of single part 
(very natural definition from \ref{eq1}). $M$
is *elementary* (i.e. $\mathfrak{p}M=0$) iff
its type if $(1^r)$.

### Duality 

Let $\pi$ generater of maximal ideal $\mathfrak{p}$.
If $m\le n$, multiplication by $\pi^{n-m}$ is 
injective $\mathfrak{o}$-homomorphism from 
$\mathfrak{o}/\mathfrak{p}^m$ to $\mathfrak{o}/
\mathfrak{p}^n$. Denote $E=\varinjlim \mathfrak{o}/ 
\mathfrak{p}^n$ then $E$ can be viewed a the smallest 
injective $\mathfrak{o}$-module containing $k$ as submodule. 

The *dual* of finite $\mathfrak{o}$-module $M$ is 
denoted $\widehat{M}=\text{Hom}_{\mathfrak{o}}(M,E)$
which is isomorphic to $M$. Since $E$ injective, exact 
sequence 

$$
\xymatrix{0 \ar[r] & N \ar[r] & M \ar[r] & M/N \ar[r] & 0}
$$

gives rise to exact sequence 

$$
\xymatrix{0 & \widehat{N} \ar[l] & \widehat{M} \ar[l] & 
\widehat{M/N} \ar[l] & 0 \ar[l]}
$$

where $\widehat{M/N}$ is the annihilator $N^0$ of $N$ in 
$\widehat{M}$, i.e. set of all $f\in \widehat{M}$
so $f(N)=0$. The natural mapping $M\to \widehat{\widehat{M}}$
is isomorphism for all finite $\mathfrak{o}$-module, 
and identifies $N$ with $N^{00}$. Hence, 

> $N \leftrightarrow N^0$ is a one-one correspondence between 
> submodules of $M, M\widehat{M}$, respectively, which maps 
> set of all $N\subset M$ of type $\nu$ and cotype $\mu$ onto 
> set of all $N^0\subset \widehat{M}$ of type $\mu$ and cotype $\nu$. 

### Hall algebra

We assume $k$ to be finite. Then $M$ 
has finite number of elements. 

Here we define Hall algebra based on structure constants 
$G_{\mu \nu}^{\lambda} (\mathfrak{o})$ which counts number 
of submodule $N$ of type $\nu$ and cotype $\mu$ in finite 
$\mathfrak{o}$-module $M$ of type $\lambda$: 

Let $H=H(\mathfrak{o})$ be 
free $\mathbf{Z}$-module on basis $(u_{\lambda})$ indexed 
by partitions $\lambda$. Define product in $H$ by the rule 

$$
u_{\mu}u_{\nu}=\sum_{\lambda} G_{\mu \nu}^{\lambda}(\mathfrak{o})
u_{\lambda}
$$

Since $l(M)=l(M/N)+l(N)$ so $G_{\mu\nu}^{\lambda}(\mathfrak{o})=0$
unless $|\lambda|=|\mu|+|\nu|$. Hence, the sum in the above 
right-hand side is finite. 

One can show the following 
* $H(\mathfrak{o})$ is commutative and associative ring with 
identity element, which is called *Hall algebra* of $\mathfrak{o}$.
* Ring $H(\mathfrak{o})$ is generated (as $\mathbf{Z}$-algebra)
by elements $u_{(1^r)}$ for $r\ge 1$ and they are algebraically 
independent over $\mathbf{Z}$. This follows that 
Hall algebra $H(\mathfrak{o})$ isomorphic to ring $\Lambda$
of symmetric functions. 

### $LR$-sequence of a submodule

Next, we investigate connection between type of $M$ and 
type of its submodule:

Let $M$ be finite $\mathfrak{o}$-module of type $\lambda$,
we have 
* If $N$ submodule of type $\nu$ and cotype $\mu$ in $M$,
then $\mu \subset \lambda$ and $\nu \subset \lambda$. 
* Denote $S=\\{x\in M: \mathfrak{p}x=0\\}$ called *socle*
of $M$, which is the unique largest elementary submodule 
of $M$. Then type of $M/S$ is $\tilde{\lambda}=
(\lambda_1-1,\lambda_2-1,\ldots)$. 
* If $N$ elementary submodule of $M$ of cotype $\mu$ then 
$\lambda-\nu$ is vertical strip (i.e. $\lambda_i-\mu_i=0$
or $1$).

Proofs for these properties can be obtained by using additive 
property of length of finite $\mathfrak{o}$-module, i.e. 
$l(M)-l(M/N)-l(N)=0$. 

From these properties, we find that every submodule $N$
of finite $\mathfrak{o}$-module $M$ gives rise to 
a *$LR$-sequence of type $(\mu',\nu',\lambda')$* 
where $\lambda,\mu,\nu$ are types of $M,M/N, N$, respectively.
One should just think $LR$-sequence of type $(\mu,\nu,\lambda)$,
i.e. sequence of partitions

$$\mu=\lambda^{(0)}\subset \lambda^{(1)}\subset \cdots
\subset \lambda^{(r)}=\lambda$$ 

as tableau $T$ of shape $\lambda-\mu$, with weight 
$\nu_i= |\lambda^{(i)}-\lambda^{(i-1)}|$ and numbers on $T$
are determined by above sequence of partitions such 
that $w(T)$ is a lattice permutation (see Chapter 1, section 9
of the book). 

> For each $i\ge 0$, let $\lambda^{(i)}$ the cotype of 
> $\mathfrak{p}^iN$. Then the sequence $S(N)=
> \left( \lambda^{(0)} ', \lambda^{(1)} ',\ldots, \lambda^{(r)} ' \right)$
> where $\mathfrak{p}^rN=0$ is an $LR$-sequence of type 
> $(\mu',\nu',\lambda')$. 

### Hall polynomial 

We compute the structure constants $G_{\mu \nu}^{\lambda}(\mathfrak{o})$
of Hall algebra (given $k$ is finite). Let $S$ be $LR$-sequence 
of type $(\mu',\nu',\lambda')$ and $M$ finite $\mathfrak{o}$-module 
of type $\lambda$. Denote $G_S(\mathfrak{o})$ the number of submodules 
$N$ of $M$ whose associated $LR$-sequence $S(N)$ is $S$. Each such $N$
will have type $\nu$ and cotype $\mu$ (from definition of $S(N)$).
Then 

$$
G_{\mu \nu}^{\lambda}(\mathfrak{o})=\sum_S G_S(\mathfrak{o})
$$

summed over all $LR$-sequences $S$ of type $(\mu',\nu',\lambda')$. 
Hence, it suffices to compute $G_S(\mathfrak{o})$ for certain $S$. 
To do this, we divide into smaller subproblems that is easier to count: 
Observe that if $N$ submodule of $M$ such that $S(N)=S
= (\lambda^{(0)} ', \ldots, \lambda^{(r)} ')$, then 
with $N_1=\mathfrak{p}N$, we have $S(N_1)=\left( \lambda^{(1)} ', 
\ldots, \lambda^{(r)} ' \right)=S_1$. 

Thus, we have $G_S(\mathfrak{o})$ equals to $G_{S_1}(\mathfrak{o})$
(i.e. number of submodules $N_1$ of $M$ so $S(N_1)=S_1$) times 
(given such $N_1$) 
number of submodule $N$ of $M$ so $\mathfrak{p}N=N_1$ and $N$ of 
cotype $\lambda^{(0)}=\mu$ (note these two conditions will imply 
$S(N)=S$, which is what we originally want to count).
The later factor is equivalent to count number of submodule 
$N/\mathfrak{p}N_1$ of cotype $\lambda^{(0)}$ in $M/\mathfrak{p}N_1$
of type $\lambda^{(2)}$ such that 
$\mathfrak{p} \left( N/\mathfrak{p}N_1 \right)= N_1/\mathfrak{p}N_1$
(which has cotype $\lambda^{(1)}$). 
The advantage of rephrasing this way is that $N_1/\mathfrak{p}N_1$
is an elementary submodule. By generalizing this, the new 
object we want to count is:

> Given $P$ elementary submodule of cotype $\beta$ in $M$, 
> we want to count number of submodules $N$ of certain cotype $\alpha$ 
> in $M$ such that $\mathfrak{p}N=P$. 

This is the content of lemma (4.7) in the book. If one 
follows the proof of this lemma, where
we try to rephrase the object in question, just as we did previously,
(hoping that the new object is easier to count), we reduce to count 
the following object

> Let $N$ elementary submodule of cotype $\alpha$ in $M$. 
> Let $\beta$ partition such that $\alpha\subset \beta \subset 
> \lambda$. We want to count $H_{\alpha\beta\lambda}$, number 
> of submodules $P\subset N$ of cotype $\beta$ in $M$. 

This is the content of lemma (4.4) in the book. Let $P$
be submodule of $N$ of cotype $\beta$ in $M$. From 
what is written there, the general idea is that 
by observing $P=P_0\supset P_1 
\supset P_2 \cdots$ where $P_i=P\cap \mathfrak{p}^iM$
then 

$$
l(P_{i-1}/P_i)= \lambda_i'-\beta_i'
$$ 

and conversely, if one knows this condition then 
we know $P$ has cotype $\beta$ in $M$. Hence, 
in order to construct $P$, one can start construct
$P_i$ inductively as $i\to 0$. Note an extra 
condition we need to guarantee is that $P\subset N$
so for all $i$, we need $P_i$ such that 
$P_i\subset N_i= N\cap \mathfrak{p}^iM$. This 
is equivalent to 

$$
P_{i-1}\cap N_i=P_i
$$

Thus, we need to count the following

> Given $P_i$, we want to count number of submodules 
> $P_{i-1}$ of $N_{i-1}$ such that $l(P_{i-1}/P_i)
> =\lambda_i'-\beta_i'=\theta_i$ and $P_{i-1}\cap N_i=P_i$.

This object can be computed directly, where the 
idea is that from $P_i$, we want to contruct $P_{i-1}
\supset P_i$ by adding new $\theta_i'$ elements (viewed 
as generating elements) in $N_{i-1}$
which are linearly independent modulo $N_i$. 

After all of these counting, we conclude that 
$G_{\mu\nu}^{\lambda}(\mathfrak{o})$ can be expressed as polynomial 
$g_{\mu\nu}^{\lambda}(t) \in \mathbf{Z}[t]$ evaluated 
at $q=|k|$. Such polynomial called *Hall polynomial*.

From these computations, Macdonald also gives 
explicit formulas for two special cases $\nu=(r)$ and 
$\nu=(1^r)$. 